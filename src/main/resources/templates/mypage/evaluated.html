<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout.html">
<head>
    <meta charset="UTF-8">
    <title>Î¶¨Î∑∞ ÏÉÅÏÑ∏</title>
    <!-- Ïä§ÌÉÄÏùºÏãúÌä∏ Ïó∞Í≤∞ -->
    <link rel="stylesheet" href="/css/mypage.css">
    <link rel="stylesheet" href="/css/evaluated.css">
</head>
<body>

<div class="evaluated-container" layout:fragment="content">
    <!-- ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î (mypageÏôÄ ÎèôÏùº) -->
    <div th:replace="~{mypage/mypage :: sidebar}"></div>

    <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
    <main class="evaluated-main">
        <h2>Î¶¨Î∑∞ ÏÉÅÏÑ∏</h2>

        <!-- Î¶¨Î∑∞ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÏòÅÏó≠ -->
        <div class="review-detail">
            <p class="reviewee">
                Î∞õÏùÄ ÏÇ¨Îûå:
                <span class="productBid"
                      th:text="${review.revieweeName}"
                      th:attr="data-sellername=${review.revieweeName}"
                      onclick="handleSellerClick(event)"></span>
            </p>
            <p class="product-name">
                Í±∞ÎûòÌïú ÏÉÅÌíà:
                <span class="productBid"
                      th:data-href="|${review.transactionType=='Íµ¨Îß§' ? '/history/bought?id=' : '/history/sold?id='}${review.productId}|"
                      th:text="${review.productName}"
                      onclick="location.href=this.dataset.href">
                </span>
            </p>

            <!-- ÌèâÍ∞Ä Ìï≠Î™© (Í±∞Îûò ÌÉÄÏûÖÏóê Îî∞Îùº Ï°∞Í±¥Î∂Ä Ï≤òÎ¶¨) -->
            <hr>
            <div class="review-ratings">
                <div class="rating-item">
                    <span class="rating-label">ÎåÄÌôî Îß§ÎÑà:</span>
                    <span class="rating-value"
                          th:classappend="${review.option1} ? ' positive' : ' negative'"
                          th:text="${review.option1} ? 'üòä ÏπúÏ†àÌñàÏñ¥Ïöî' : 'üòê ÏïÑÏâ¨ÏõåÏöî'">
                    </span>
                </div>
                <div class="rating-item">
                    <span class="rating-label"
                          th:text="${#strings.equals(reviewType, 'written') ? (review.transactionType == 'Íµ¨Îß§' ? 'ÏÉÅÌíà ÏÉÅÌÉú:' : 'Í∞ÄÍ≤© ÌòëÏÉÅ Í≥ºÏ†ï:') : (review.transactionType == 'Íµ¨Îß§' ? 'Í∞ÄÍ≤© ÌòëÏÉÅ Í≥ºÏ†ï:' : 'ÏÉÅÌíà ÏÉÅÌÉú:')}">
                    </span>
                    <span class="rating-value"
                          th:classappend="${review.option2} ? ' positive' : ' negative'"
                          th:text="${#strings.equals(reviewType, 'written') ? (review.transactionType == 'Íµ¨Îß§' ? (review.option2 ? '‚ú® ÎßàÏùåÏóê Îì§Ïñ¥Ïöî' : 'üíî ÏÑ§Î™ÖÍ≥º Îã¨ÎùºÏöî') : (review.option2 ? 'üòç ÍπîÎÅîÌïú Í±∞Îûò' : 'ü•∂ Î¨¥Î¶¨Ìïú ÏöîÏ≤≠'))
                                      : (review.transactionType == 'Íµ¨Îß§' ? (review.option2 ? 'üòç ÍπîÎÅîÌïú Í±∞Îûò' : 'ü•∂ Î¨¥Î¶¨Ìïú ÏöîÏ≤≠') : (review.option2 ? '‚ú® ÎßàÏùåÏóê Îì§Ïñ¥Ïöî' : 'üíî ÏÑ§Î™ÖÍ≥º Îã¨ÎùºÏöî'))}">
                    </span>
                </div>
                <div class="rating-item">
                    <span class="rating-label"
                          th:text="${#strings.equals(reviewType, 'written') ? (review.transactionType == 'Íµ¨Îß§' ? 'Í∞ÄÍ≤©:' : 'ÏÉÅÌíà ÏàòÎ†π ÌõÑ ÌîºÎìúÎ∞±:') : (review.transactionType == 'Íµ¨Îß§' ? 'ÏÉÅÌíà ÏàòÎ†π ÌõÑ ÌîºÎìúÎ∞±:' : 'Í∞ÄÍ≤©:')}">
                    </span>
                    <span class="rating-value"
                          th:classappend="${review.option3} ? ' positive' : ' negative'"
                          th:text="${#strings.equals(reviewType, 'written') ? (review.transactionType == 'Íµ¨Îß§' ? (review.option3 ? 'ü§© Ìï©Î¶¨Ï†ÅÏù¥ÏóêÏöî' : 'ü§ë ÎπÑÏååÏñ¥Ïöî') : (review.option3 ? 'üí¨ Îπ†Î•∏ ÌîºÎìúÎ∞±' : 'üö´ Ïó∞ÎùΩ ÎëêÏ†à'))
                                      : (review.transactionType == 'Íµ¨Îß§' ? (review.option3 ? 'üí¨ Îπ†Î•∏ ÌîºÎìúÎ∞±' : 'üö´ Ïó∞ÎùΩ ÎëêÏ†à') : (review.option3 ? 'ü§© Ìï©Î¶¨Ï†ÅÏù¥ÏóêÏöî' : 'ü§ë ÎπÑÏååÏñ¥Ïöî'))}">
                    </span>
                </div>
            </div>

            <!-- Î¶¨Î∑∞ ÎÇ¥Ïö© -->
            <div class="review-comment">
                <h3>Î¶¨Î∑∞ ÎÇ¥Ïö©</h3>
                <div class="comment-info">
                    <p th:text="${review.comment}"></p>
                </div>
                <hr>
                <!-- ÏûëÏÑ±Ïûê Î∞è ÏûëÏÑ±Ïùº -->
                <div class="review-date">
                    <p class="reviewer">
                        ÏûëÏÑ±Ìïú ÏÇ¨Îûå:
                        <span class="productBid"
                              th:text="${review.reviewerName}"
                              th:attr="data-sellername=${review.reviewerName}"
                              onclick="handleSellerClick(event)"></span>
                    </p>
                    <p th:text="'ÏûëÏÑ±Ïùº: ' + ${#temporals.format(review.createdAt, 'yyyy-MM-dd')}"></p>
                </div>
            </div>
        </div>
    </main>
</div>

</body>
</html>
